"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/merge/route";
exports.ids = ["app/api/merge/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "sharp":
/*!************************!*\
  !*** external "sharp" ***!
  \************************/
/***/ ((module) => {

module.exports = require("sharp");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fmerge%2Froute&page=%2Fapi%2Fmerge%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fmerge%2Froute.ts&appDir=D%3A%5CCursor%5Cface2exchange%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CCursor%5Cface2exchange&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fmerge%2Froute&page=%2Fapi%2Fmerge%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fmerge%2Froute.ts&appDir=D%3A%5CCursor%5Cface2exchange%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CCursor%5Cface2exchange&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_node_polyfill_headers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/node-polyfill-headers */ \"(rsc)/./node_modules/next/dist/server/node-polyfill-headers.js\");\n/* harmony import */ var next_dist_server_node_polyfill_headers__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_node_polyfill_headers__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var D_Cursor_face2exchange_app_api_merge_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/merge/route.ts */ \"(rsc)/./app/api/merge/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_1__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_2__.RouteKind.APP_ROUTE,\n        page: \"/api/merge/route\",\n        pathname: \"/api/merge\",\n        filename: \"route\",\n        bundlePath: \"app/api/merge/route\"\n    },\n    resolvedPagePath: \"D:\\\\Cursor\\\\face2exchange\\\\app\\\\api\\\\merge\\\\route.ts\",\n    nextConfigOutput,\n    userland: D_Cursor_face2exchange_app_api_merge_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/merge/route\";\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZtZXJnZSUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGbWVyZ2UlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZtZXJnZSUyRnJvdXRlLnRzJmFwcERpcj1EJTNBJTVDQ3Vyc29yJTVDZmFjZTJleGNoYW5nZSU1Q2FwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9RCUzQSU1Q0N1cnNvciU1Q2ZhY2UyZXhjaGFuZ2UmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBZ0Q7QUFDc0Q7QUFDdkM7QUFDa0I7QUFDakY7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSx1R0FBdUc7QUFDL0c7QUFDaUo7O0FBRWpKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmFjZS1zd2FwLWFwcC8/NjYwYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgXCJuZXh0L2Rpc3Qvc2VydmVyL25vZGUtcG9seWZpbGwtaGVhZGVyc1wiO1xuaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiRDpcXFxcQ3Vyc29yXFxcXGZhY2UyZXhjaGFuZ2VcXFxcYXBwXFxcXGFwaVxcXFxtZXJnZVxcXFxyb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvbWVyZ2Uvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9tZXJnZVwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvbWVyZ2Uvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCJEOlxcXFxDdXJzb3JcXFxcZmFjZTJleGNoYW5nZVxcXFxhcHBcXFxcYXBpXFxcXG1lcmdlXFxcXHJvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIGhlYWRlckhvb2tzLCBzdGF0aWNHZW5lcmF0aW9uQmFpbG91dCB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL21lcmdlL3JvdXRlXCI7XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIGhlYWRlckhvb2tzLCBzdGF0aWNHZW5lcmF0aW9uQmFpbG91dCwgb3JpZ2luYWxQYXRobmFtZSwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fmerge%2Froute&page=%2Fapi%2Fmerge%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fmerge%2Froute.ts&appDir=D%3A%5CCursor%5Cface2exchange%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CCursor%5Cface2exchange&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/merge/route.ts":
/*!********************************!*\
  !*** ./app/api/merge/route.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n/* harmony import */ var sharp__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! sharp */ \"sharp\");\n/* harmony import */ var sharp__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(sharp__WEBPACK_IMPORTED_MODULE_1__);\n\n\nasync function compressImage(file) {\n    try {\n        const buffer = await file.arrayBuffer();\n        const fileBuffer = Buffer.from(buffer);\n        const randomQuality = 0.59 + Math.random() * (0.99 - 0.59);\n        const finalQuality = Math.floor(80 * randomQuality);\n        console.log(\"压缩质量系数:\", randomQuality.toFixed(6));\n        console.log(\"最终压缩质量:\", finalQuality);\n        const compressedBuffer = await sharp__WEBPACK_IMPORTED_MODULE_1___default()(fileBuffer).resize(1920, 1920, {\n            fit: \"inside\",\n            withoutEnlargement: true\n        }).jpeg({\n            quality: finalQuality,\n            progressive: true\n        }).toBuffer();\n        const compressedFile = new File([\n            compressedBuffer\n        ], file.name, {\n            type: \"image/jpeg\"\n        });\n        console.log(\"压缩前大小:\", (file.size / 1024 / 1024).toFixed(2) + \"MB\");\n        console.log(\"压缩后大小:\", (compressedFile.size / 1024 / 1024).toFixed(2) + \"MB\");\n        return compressedFile;\n    } catch (error) {\n        console.error(\"图片压缩失败:\", error);\n        return file;\n    }\n}\nasync function uploadToImageHub(file, retryCount = 0) {\n    try {\n        const formData = new FormData();\n        formData.append(\"source\", file);\n        const response = await fetch(process.env.IMAGEHUB_API_URL, {\n            method: \"POST\",\n            headers: {\n                \"X-API-Key\": process.env.IMAGEHUB_API_KEY\n            },\n            body: formData\n        });\n        if (!response.ok) {\n            throw new Error(\"图片上传失败\");\n        }\n        const result = await response.json();\n        console.log(\"图床上传响应:\", result);\n        if (result.status_code !== 200) {\n            throw new Error(result.status_txt || \"图片上传失败\");\n        }\n        return result.image.url;\n    } catch (error) {\n        if (retryCount < 2) {\n            console.log(`上传失败，尝试压缩后重新上传 (第${retryCount + 1}次)...`);\n            const compressedFile = await compressImage(file instanceof File ? file : new File([\n                file\n            ], \"image.jpg\"));\n            return uploadToImageHub(compressedFile, retryCount + 1);\n        }\n        throw error;\n    }\n}\nasync function downloadAndUploadImage(url) {\n    try {\n        console.log(\"开始下载图片:\", url);\n        const response = await fetch(url);\n        if (!response.ok) throw new Error(\"图片下载失败\");\n        const blob = await response.blob();\n        console.log(\"图片下载完成，开始上传到图床\");\n        return await uploadToImageHub(blob);\n    } catch (error) {\n        console.error(\"下载并上传图片失败:\", error);\n        throw error;\n    }\n}\nasync function POST(request) {\n    try {\n        // 验证环境变量\n        const requiredEnvVars = [\n            \"WORKFLOW_ID\",\n            \"COZE_API_URL\",\n            \"AUTHORIZATION\",\n            \"IMAGEHUB_API_URL\",\n            \"IMAGEHUB_API_KEY\"\n        ];\n        for (const envVar of requiredEnvVars){\n            if (!process.env[envVar]) {\n                console.error(`缺少必要的环境变量: ${envVar}`);\n                return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                    error: `服务器配置错误: 缺少环境变量 ${envVar}`,\n                    errorType: \"ConfigError\"\n                }, {\n                    status: 500,\n                    headers: {\n                        \"Content-Type\": \"application/json\"\n                    }\n                });\n            }\n        }\n        const formData = await request.formData();\n        const image1 = formData.get(\"image1\");\n        const image2 = formData.get(\"image2\");\n        if (!image1 || !image2) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"请提供两张图片\",\n                errorType: \"ValidationError\"\n            }, {\n                status: 400,\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                }\n            });\n        }\n        // 验证图片大小和类型\n        const maxSize = 5 * 1024 * 1024 // 5MB\n        ;\n        if (image1.size > maxSize || image2.size > maxSize) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"图片大小不能超过5MB\",\n                errorType: \"ValidationError\"\n            }, {\n                status: 400,\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                }\n            });\n        }\n        if (!image1.type.startsWith(\"image/\") || !image2.type.startsWith(\"image/\")) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"请上传有效的图片文件\",\n                errorType: \"ValidationError\"\n            }, {\n                status: 400,\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                }\n            });\n        }\n        console.log(\"开始上传原始图片到图床...\");\n        console.log(\"图片1信息:\", {\n            name: image1.name,\n            type: image1.type,\n            size: `${(image1.size / 1024).toFixed(2)}KB`\n        });\n        console.log(\"图片2信息:\", {\n            name: image2.name,\n            type: image2.type,\n            size: `${(image2.size / 1024).toFixed(2)}KB`\n        });\n        try {\n            const [image1Url, image2Url] = await Promise.all([\n                uploadToImageHub(image1),\n                uploadToImageHub(image2)\n            ]);\n            console.log(\"原始图片上传成功:\");\n            console.log(\"图片1 URL:\", image1Url);\n            console.log(\"图片2 URL:\", image2Url);\n            console.log(\"准备调用 Coze API...\");\n            const requestBody = {\n                workflow_id: process.env.WORKFLOW_ID.trim(),\n                parameters: {\n                    face_image: image1Url,\n                    base_image: image2Url\n                }\n            };\n            console.log(\"Coze API 请求体:\", JSON.stringify(requestBody, null, 2));\n            const response = await fetch(process.env.COZE_API_URL, {\n                method: \"POST\",\n                headers: {\n                    \"Authorization\": `Bearer ${process.env.AUTHORIZATION.trim()}`,\n                    \"Content-Type\": \"application/json\",\n                    \"Accept\": \"application/json\",\n                    \"User-Agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36\",\n                    \"Origin\": \"https://www.coze.cn\",\n                    \"Referer\": \"https://www.coze.cn/\"\n                },\n                body: JSON.stringify(requestBody)\n            });\n            console.log(\"Coze API 响应状态:\", response.status);\n            console.log(\"Coze API 响应头:\", Object.fromEntries(response.headers.entries()));\n            const responseText = await response.text();\n            console.log(\"Coze API 原始响应:\", responseText);\n            let result;\n            try {\n                result = JSON.parse(responseText);\n            } catch (e) {\n                console.error(\"解析 Coze API 响应失败:\", e);\n                throw new Error(\"无法解析 Coze API 响应\");\n            }\n            console.log(\"Coze API 响应数据:\", JSON.stringify(result, null, 2));\n            if (!response.ok) {\n                throw new Error(`Coze API 错误: ${response.status} - ${JSON.stringify(result)}`);\n            }\n            if (result.code !== 0) {\n                throw new Error(result.msg || \"处理失败\");\n            }\n            // 解析返回的数据\n            let outputData;\n            try {\n                outputData = typeof result.data === \"string\" ? JSON.parse(result.data) : result.data;\n                console.log(\"解析后的输出数据:\", outputData);\n                if (!outputData.output) {\n                    throw new Error(\"输出数据缺少图片URL\");\n                }\n                console.log(\"开始上传生成的图片到图床...\");\n                const finalImageUrl = await downloadAndUploadImage(outputData.output);\n                console.log(\"生成的图片上传成功:\", finalImageUrl);\n                return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                    resultUrl: finalImageUrl,\n                    originalUrl: outputData.output,\n                    rawResponse: result\n                });\n            } catch (e) {\n                console.error(\"处理返回数据失败:\", e);\n                console.log(\"原始返回数据:\", result.data);\n                throw new Error(\"处理返回数据失败\");\n            }\n        } catch (uploadError) {\n            console.error(\"图片处理过程错误:\", uploadError);\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: uploadError instanceof Error ? uploadError.message : \"图片处理失败\",\n                errorType: \"ProcessError\",\n                details: uploadError instanceof Error ? uploadError.stack : undefined\n            }, {\n                status: 500,\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                }\n            });\n        }\n    } catch (error) {\n        console.error(\"API错误:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            error: error instanceof Error ? error.message : \"处理失败\",\n            errorType: \"ServerError\",\n            timestamp: new Date().toISOString(),\n            details: error instanceof Error ? error.stack : undefined\n        }, {\n            status: 500,\n            headers: {\n                \"Content-Type\": \"application/json\"\n            }\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNsQjtZQUNGO1FBRUo7SUFFRixFQUFFLE9BQU9aLE9BQU87UUFDZGhCLFFBQVFnQixLQUFLLENBQUMsVUFBVUE7UUFDeEIsT0FBTzlCLGtGQUFZQSxDQUFDZ0QsSUFBSSxDQUN0QjtZQUNFbEIsT0FBT0EsaUJBQWlCZ0IsUUFBUWhCLE1BQU1vRSxPQUFPLEdBQUc7WUFDaER2QyxXQUFXO1lBQ1gyQyxXQUFXLElBQUlDLE9BQU9DLFdBQVc7WUFDakNMLFNBQVNyRSxpQkFBaUJnQixRQUFRaEIsTUFBTXNFLEtBQUssR0FBR0M7UUFDbEQsR0FDQTtZQUNFekMsUUFBUTtZQUNSbEIsU0FBUztnQkFDUCxnQkFBZ0I7WUFDbEI7UUFDRjtJQUVKO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mYWNlLXN3YXAtYXBwLy4vYXBwL2FwaS9tZXJnZS9yb3V0ZS50cz82NTc4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcidcclxuaW1wb3J0IHNoYXJwIGZyb20gJ3NoYXJwJ1xyXG5cclxuYXN5bmMgZnVuY3Rpb24gY29tcHJlc3NJbWFnZShmaWxlOiBGaWxlKSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGJ1ZmZlciA9IGF3YWl0IGZpbGUuYXJyYXlCdWZmZXIoKVxyXG4gICAgY29uc3QgZmlsZUJ1ZmZlciA9IEJ1ZmZlci5mcm9tKGJ1ZmZlcilcclxuXHJcbiAgICBjb25zdCByYW5kb21RdWFsaXR5ID0gMC41OSArIE1hdGgucmFuZG9tKCkgKiAoMC45OSAtIDAuNTkpXHJcbiAgICBjb25zdCBmaW5hbFF1YWxpdHkgPSBNYXRoLmZsb29yKDgwICogcmFuZG9tUXVhbGl0eSlcclxuXHJcbiAgICBjb25zb2xlLmxvZygn5Y6L57yp6LSo6YeP57O75pWwOicsIHJhbmRvbVF1YWxpdHkudG9GaXhlZCg2KSlcclxuICAgIGNvbnNvbGUubG9nKCfmnIDnu4jljovnvKnotKjph486JywgZmluYWxRdWFsaXR5KVxyXG5cclxuICAgIGNvbnN0IGNvbXByZXNzZWRCdWZmZXIgPSBhd2FpdCBzaGFycChmaWxlQnVmZmVyKVxyXG4gICAgICAucmVzaXplKDE5MjAsIDE5MjAsIHtcclxuICAgICAgICBmaXQ6ICdpbnNpZGUnLFxyXG4gICAgICAgIHdpdGhvdXRFbmxhcmdlbWVudDogdHJ1ZVxyXG4gICAgICB9KVxyXG4gICAgICAuanBlZyh7XHJcbiAgICAgICAgcXVhbGl0eTogZmluYWxRdWFsaXR5LFxyXG4gICAgICAgIHByb2dyZXNzaXZlOiB0cnVlXHJcbiAgICAgIH0pXHJcbiAgICAgIC50b0J1ZmZlcigpXHJcblxyXG4gICAgY29uc3QgY29tcHJlc3NlZEZpbGUgPSBuZXcgRmlsZShcclxuICAgICAgW2NvbXByZXNzZWRCdWZmZXJdLFxyXG4gICAgICBmaWxlLm5hbWUsXHJcbiAgICAgIHsgdHlwZTogJ2ltYWdlL2pwZWcnIH1cclxuICAgIClcclxuXHJcbiAgICBjb25zb2xlLmxvZygn5Y6L57yp5YmN5aSn5bCPOicsIChmaWxlLnNpemUgLyAxMDI0IC8gMTAyNCkudG9GaXhlZCgyKSArICdNQicpXHJcbiAgICBjb25zb2xlLmxvZygn5Y6L57yp5ZCO5aSn5bCPOicsIChjb21wcmVzc2VkRmlsZS5zaXplIC8gMTAyNCAvIDEwMjQpLnRvRml4ZWQoMikgKyAnTUInKVxyXG5cclxuICAgIHJldHVybiBjb21wcmVzc2VkRmlsZVxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCflm77niYfljovnvKnlpLHotKU6JywgZXJyb3IpXHJcbiAgICByZXR1cm4gZmlsZVxyXG4gIH1cclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gdXBsb2FkVG9JbWFnZUh1YihmaWxlOiBGaWxlIHwgQmxvYiwgcmV0cnlDb3VudCA9IDApOiBQcm9taXNlPHN0cmluZz4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpXHJcbiAgICBmb3JtRGF0YS5hcHBlbmQoJ3NvdXJjZScsIGZpbGUpXHJcblxyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChwcm9jZXNzLmVudi5JTUFHRUhVQl9BUElfVVJMISwge1xyXG4gICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICdYLUFQSS1LZXknOiBwcm9jZXNzLmVudi5JTUFHRUhVQl9BUElfS0VZISxcclxuICAgICAgfSxcclxuICAgICAgYm9keTogZm9ybURhdGFcclxuICAgIH0pXHJcblxyXG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ+WbvueJh+S4iuS8oOWksei0pScpXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpXHJcbiAgICBjb25zb2xlLmxvZygn5Zu+5bqK5LiK5Lyg5ZON5bqUOicsIHJlc3VsdClcclxuXHJcbiAgICBpZiAocmVzdWx0LnN0YXR1c19jb2RlICE9PSAyMDApIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3VsdC5zdGF0dXNfdHh0IHx8ICflm77niYfkuIrkvKDlpLHotKUnKVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiByZXN1bHQuaW1hZ2UudXJsXHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGlmIChyZXRyeUNvdW50IDwgMikge1xyXG4gICAgICBjb25zb2xlLmxvZyhg5LiK5Lyg5aSx6LSl77yM5bCd6K+V5Y6L57yp5ZCO6YeN5paw5LiK5LygICjnrKwke3JldHJ5Q291bnQgKyAxfeasoSkuLi5gKVxyXG4gICAgICBjb25zdCBjb21wcmVzc2VkRmlsZSA9IGF3YWl0IGNvbXByZXNzSW1hZ2UoZmlsZSBpbnN0YW5jZW9mIEZpbGUgPyBmaWxlIDogbmV3IEZpbGUoW2ZpbGVdLCAnaW1hZ2UuanBnJykpXHJcbiAgICAgIHJldHVybiB1cGxvYWRUb0ltYWdlSHViKGNvbXByZXNzZWRGaWxlLCByZXRyeUNvdW50ICsgMSlcclxuICAgIH1cclxuICAgIHRocm93IGVycm9yXHJcbiAgfVxyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBkb3dubG9hZEFuZFVwbG9hZEltYWdlKHVybDogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+IHtcclxuICB0cnkge1xyXG4gICAgY29uc29sZS5sb2coJ+W8gOWni+S4i+i9veWbvueJhzonLCB1cmwpXHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybClcclxuICAgIGlmICghcmVzcG9uc2Uub2spIHRocm93IG5ldyBFcnJvcign5Zu+54mH5LiL6L295aSx6LSlJylcclxuICAgIFxyXG4gICAgY29uc3QgYmxvYiA9IGF3YWl0IHJlc3BvbnNlLmJsb2IoKVxyXG4gICAgY29uc29sZS5sb2coJ+WbvueJh+S4i+i9veWujOaIkO+8jOW8gOWni+S4iuS8oOWIsOWbvuW6iicpXHJcbiAgICBcclxuICAgIHJldHVybiBhd2FpdCB1cGxvYWRUb0ltYWdlSHViKGJsb2IpXHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ+S4i+i9veW5tuS4iuS8oOWbvueJh+Wksei0pTonLCBlcnJvcilcclxuICAgIHRocm93IGVycm9yXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xyXG4gIHRyeSB7XHJcbiAgICAvLyDpqozor4Hnjq/looPlj5jph49cclxuICAgIGNvbnN0IHJlcXVpcmVkRW52VmFycyA9IFtcclxuICAgICAgJ1dPUktGTE9XX0lEJyxcclxuICAgICAgJ0NPWkVfQVBJX1VSTCcsXHJcbiAgICAgICdBVVRIT1JJWkFUSU9OJyxcclxuICAgICAgJ0lNQUdFSFVCX0FQSV9VUkwnLFxyXG4gICAgICAnSU1BR0VIVUJfQVBJX0tFWSdcclxuICAgIF1cclxuICAgIFxyXG4gICAgZm9yIChjb25zdCBlbnZWYXIgb2YgcmVxdWlyZWRFbnZWYXJzKSB7XHJcbiAgICAgIGlmICghcHJvY2Vzcy5lbnZbZW52VmFyXSkge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYOe8uuWwkeW/heimgeeahOeOr+Wig+WPmOmHjzogJHtlbnZWYXJ9YClcclxuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgICB7IFxyXG4gICAgICAgICAgICBlcnJvcjogYOacjeWKoeWZqOmFjee9rumUmeivrzog57y65bCR546v5aKD5Y+Y6YePICR7ZW52VmFyfWAsXHJcbiAgICAgICAgICAgIGVycm9yVHlwZTogJ0NvbmZpZ0Vycm9yJ1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHsgXHJcbiAgICAgICAgICAgIHN0YXR1czogNTAwLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgKVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgZm9ybURhdGEgPSBhd2FpdCByZXF1ZXN0LmZvcm1EYXRhKClcclxuICAgIGNvbnN0IGltYWdlMSA9IGZvcm1EYXRhLmdldCgnaW1hZ2UxJykgYXMgRmlsZVxyXG4gICAgY29uc3QgaW1hZ2UyID0gZm9ybURhdGEuZ2V0KCdpbWFnZTInKSBhcyBGaWxlXHJcblxyXG4gICAgaWYgKCFpbWFnZTEgfHwgIWltYWdlMikge1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgeyBcclxuICAgICAgICAgIGVycm9yOiAn6K+35o+Q5L6b5Lik5byg5Zu+54mHJyxcclxuICAgICAgICAgIGVycm9yVHlwZTogJ1ZhbGlkYXRpb25FcnJvcidcclxuICAgICAgICB9LFxyXG4gICAgICAgIHsgXHJcbiAgICAgICAgICBzdGF0dXM6IDQwMCxcclxuICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgKVxyXG4gICAgfVxyXG5cclxuICAgIC8vIOmqjOivgeWbvueJh+Wkp+Wwj+WSjOexu+Wei1xyXG4gICAgY29uc3QgbWF4U2l6ZSA9IDUgKiAxMDI0ICogMTAyNCAvLyA1TUJcclxuICAgIGlmIChpbWFnZTEuc2l6ZSA+IG1heFNpemUgfHwgaW1hZ2UyLnNpemUgPiBtYXhTaXplKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7IFxyXG4gICAgICAgICAgZXJyb3I6ICflm77niYflpKflsI/kuI3og73otoXov4c1TUInLFxyXG4gICAgICAgICAgZXJyb3JUeXBlOiAnVmFsaWRhdGlvbkVycm9yJ1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgeyBcclxuICAgICAgICAgIHN0YXR1czogNDAwLFxyXG4gICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICApXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFpbWFnZTEudHlwZS5zdGFydHNXaXRoKCdpbWFnZS8nKSB8fCAhaW1hZ2UyLnR5cGUuc3RhcnRzV2l0aCgnaW1hZ2UvJykpIHtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgIHsgXHJcbiAgICAgICAgICBlcnJvcjogJ+ivt+S4iuS8oOacieaViOeahOWbvueJh+aWh+S7ticsXHJcbiAgICAgICAgICBlcnJvclR5cGU6ICdWYWxpZGF0aW9uRXJyb3InXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7IFxyXG4gICAgICAgICAgc3RhdHVzOiA0MDAsXHJcbiAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIClcclxuICAgIH1cclxuXHJcbiAgICBjb25zb2xlLmxvZygn5byA5aeL5LiK5Lyg5Y6f5aeL5Zu+54mH5Yiw5Zu+5bqKLi4uJylcclxuICAgIGNvbnNvbGUubG9nKCflm77niYcx5L+h5oGvOicsIHtcclxuICAgICAgbmFtZTogaW1hZ2UxLm5hbWUsXHJcbiAgICAgIHR5cGU6IGltYWdlMS50eXBlLFxyXG4gICAgICBzaXplOiBgJHsoaW1hZ2UxLnNpemUgLyAxMDI0KS50b0ZpeGVkKDIpfUtCYFxyXG4gICAgfSlcclxuICAgIGNvbnNvbGUubG9nKCflm77niYcy5L+h5oGvOicsIHtcclxuICAgICAgbmFtZTogaW1hZ2UyLm5hbWUsXHJcbiAgICAgIHR5cGU6IGltYWdlMi50eXBlLFxyXG4gICAgICBzaXplOiBgJHsoaW1hZ2UyLnNpemUgLyAxMDI0KS50b0ZpeGVkKDIpfUtCYFxyXG4gICAgfSlcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBbaW1hZ2UxVXJsLCBpbWFnZTJVcmxdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xyXG4gICAgICAgIHVwbG9hZFRvSW1hZ2VIdWIoaW1hZ2UxKSxcclxuICAgICAgICB1cGxvYWRUb0ltYWdlSHViKGltYWdlMilcclxuICAgICAgXSlcclxuXHJcbiAgICAgIGNvbnNvbGUubG9nKCfljp/lp4vlm77niYfkuIrkvKDmiJDlip86JylcclxuICAgICAgY29uc29sZS5sb2coJ+WbvueJhzEgVVJMOicsIGltYWdlMVVybClcclxuICAgICAgY29uc29sZS5sb2coJ+WbvueJhzIgVVJMOicsIGltYWdlMlVybClcclxuXHJcbiAgICAgIGNvbnNvbGUubG9nKCflh4blpIfosIPnlKggQ296ZSBBUEkuLi4nKVxyXG4gICAgICBjb25zdCByZXF1ZXN0Qm9keSA9IHtcclxuICAgICAgICB3b3JrZmxvd19pZDogcHJvY2Vzcy5lbnYuV09SS0ZMT1dfSUQhLnRyaW0oKSxcclxuICAgICAgICBwYXJhbWV0ZXJzOiB7XHJcbiAgICAgICAgICBmYWNlX2ltYWdlOiBpbWFnZTFVcmwsXHJcbiAgICAgICAgICBiYXNlX2ltYWdlOiBpbWFnZTJVcmxcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnNvbGUubG9nKCdDb3plIEFQSSDor7fmsYLkvZM6JywgSlNPTi5zdHJpbmdpZnkocmVxdWVzdEJvZHksIG51bGwsIDIpKVxyXG5cclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChwcm9jZXNzLmVudi5DT1pFX0FQSV9VUkwhLCB7XHJcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7cHJvY2Vzcy5lbnYuQVVUSE9SSVpBVElPTiEudHJpbSgpfWAsXHJcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICAgICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgICAgICAgICdVc2VyLUFnZW50JzogJ01vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdpbjY0OyB4NjQpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS85MS4wLjQ0NzIuMTI0IFNhZmFyaS81MzcuMzYnLFxyXG4gICAgICAgICAgJ09yaWdpbic6ICdodHRwczovL3d3dy5jb3plLmNuJyxcclxuICAgICAgICAgICdSZWZlcmVyJzogJ2h0dHBzOi8vd3d3LmNvemUuY24vJ1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocmVxdWVzdEJvZHkpXHJcbiAgICAgIH0pXHJcblxyXG4gICAgICBjb25zb2xlLmxvZygnQ296ZSBBUEkg5ZON5bqU54q25oCBOicsIHJlc3BvbnNlLnN0YXR1cylcclxuICAgICAgY29uc29sZS5sb2coJ0NvemUgQVBJIOWTjeW6lOWktDonLCBPYmplY3QuZnJvbUVudHJpZXMocmVzcG9uc2UuaGVhZGVycy5lbnRyaWVzKCkpKVxyXG5cclxuICAgICAgY29uc3QgcmVzcG9uc2VUZXh0ID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpXHJcbiAgICAgIGNvbnNvbGUubG9nKCdDb3plIEFQSSDljp/lp4vlk43lupQ6JywgcmVzcG9uc2VUZXh0KVxyXG5cclxuICAgICAgbGV0IHJlc3VsdFxyXG4gICAgICB0cnkge1xyXG4gICAgICAgIHJlc3VsdCA9IEpTT04ucGFyc2UocmVzcG9uc2VUZXh0KVxyXG4gICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcign6Kej5p6QIENvemUgQVBJIOWTjeW6lOWksei0pTonLCBlKVxyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcign5peg5rOV6Kej5p6QIENvemUgQVBJIOWTjeW6lCcpXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnNvbGUubG9nKCdDb3plIEFQSSDlk43lupTmlbDmja46JywgSlNPTi5zdHJpbmdpZnkocmVzdWx0LCBudWxsLCAyKSlcclxuXHJcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENvemUgQVBJIOmUmeivrzogJHtyZXNwb25zZS5zdGF0dXN9IC0gJHtKU09OLnN0cmluZ2lmeShyZXN1bHQpfWApXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChyZXN1bHQuY29kZSAhPT0gMCkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihyZXN1bHQubXNnIHx8ICflpITnkIblpLHotKUnKVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyDop6PmnpDov5Tlm57nmoTmlbDmja5cclxuICAgICAgbGV0IG91dHB1dERhdGFcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBvdXRwdXREYXRhID0gdHlwZW9mIHJlc3VsdC5kYXRhID09PSAnc3RyaW5nJyA/IEpTT04ucGFyc2UocmVzdWx0LmRhdGEpIDogcmVzdWx0LmRhdGFcclxuICAgICAgICBjb25zb2xlLmxvZygn6Kej5p6Q5ZCO55qE6L6T5Ye65pWw5o2uOicsIG91dHB1dERhdGEpXHJcblxyXG4gICAgICAgIGlmICghb3V0cHV0RGF0YS5vdXRwdXQpIHtcclxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcign6L6T5Ye65pWw5o2u57y65bCR5Zu+54mHVVJMJylcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKCflvIDlp4vkuIrkvKDnlJ/miJDnmoTlm77niYfliLDlm77luoouLi4nKVxyXG4gICAgICAgIGNvbnN0IGZpbmFsSW1hZ2VVcmwgPSBhd2FpdCBkb3dubG9hZEFuZFVwbG9hZEltYWdlKG91dHB1dERhdGEub3V0cHV0KVxyXG4gICAgICAgIGNvbnNvbGUubG9nKCfnlJ/miJDnmoTlm77niYfkuIrkvKDmiJDlip86JywgZmluYWxJbWFnZVVybClcclxuXHJcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcclxuICAgICAgICAgIHJlc3VsdFVybDogZmluYWxJbWFnZVVybCxcclxuICAgICAgICAgIG9yaWdpbmFsVXJsOiBvdXRwdXREYXRhLm91dHB1dCxcclxuICAgICAgICAgIHJhd1Jlc3BvbnNlOiByZXN1bHRcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+WkhOeQhui/lOWbnuaVsOaNruWksei0pTonLCBlKVxyXG4gICAgICAgIGNvbnNvbGUubG9nKCfljp/lp4vov5Tlm57mlbDmja46JywgcmVzdWx0LmRhdGEpXHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCflpITnkIbov5Tlm57mlbDmja7lpLHotKUnKVxyXG4gICAgICB9XHJcblxyXG4gICAgfSBjYXRjaCAodXBsb2FkRXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign5Zu+54mH5aSE55CG6L+H56iL6ZSZ6K+vOicsIHVwbG9hZEVycm9yKVxyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgeyBcclxuICAgICAgICAgIGVycm9yOiB1cGxvYWRFcnJvciBpbnN0YW5jZW9mIEVycm9yID8gdXBsb2FkRXJyb3IubWVzc2FnZSA6ICflm77niYflpITnkIblpLHotKUnLFxyXG4gICAgICAgICAgZXJyb3JUeXBlOiAnUHJvY2Vzc0Vycm9yJyxcclxuICAgICAgICAgIGRldGFpbHM6IHVwbG9hZEVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyB1cGxvYWRFcnJvci5zdGFjayA6IHVuZGVmaW5lZFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgeyBcclxuICAgICAgICAgIHN0YXR1czogNTAwLFxyXG4gICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICApXHJcbiAgICB9XHJcblxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdBUEnplJnor686JywgZXJyb3IpXHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgIHsgXHJcbiAgICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ+WkhOeQhuWksei0pScsXHJcbiAgICAgICAgZXJyb3JUeXBlOiAnU2VydmVyRXJyb3InLFxyXG4gICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxyXG4gICAgICAgIGRldGFpbHM6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5zdGFjayA6IHVuZGVmaW5lZFxyXG4gICAgICB9LFxyXG4gICAgICB7IFxyXG4gICAgICAgIHN0YXR1czogNTAwLFxyXG4gICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIClcclxuICB9XHJcbn0gIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsInNoYXJwIiwiY29tcHJlc3NJbWFnZSIsImZpbGUiLCJidWZmZXIiLCJhcnJheUJ1ZmZlciIsImZpbGVCdWZmZXIiLCJCdWZmZXIiLCJmcm9tIiwicmFuZG9tUXVhbGl0eSIsIk1hdGgiLCJyYW5kb20iLCJmaW5hbFF1YWxpdHkiLCJmbG9vciIsImNvbnNvbGUiLCJsb2ciLCJ0b0ZpeGVkIiwiY29tcHJlc3NlZEJ1ZmZlciIsInJlc2l6ZSIsImZpdCIsIndpdGhvdXRFbmxhcmdlbWVudCIsImpwZWciLCJxdWFsaXR5IiwicHJvZ3Jlc3NpdmUiLCJ0b0J1ZmZlciIsImNvbXByZXNzZWRGaWxlIiwiRmlsZSIsIm5hbWUiLCJ0eXBlIiwic2l6ZSIsImVycm9yIiwidXBsb2FkVG9JbWFnZUh1YiIsInJldHJ5Q291bnQiLCJmb3JtRGF0YSIsIkZvcm1EYXRhIiwiYXBwZW5kIiwicmVzcG9uc2UiLCJmZXRjaCIsInByb2Nlc3MiLCJlbnYiLCJJTUFHRUhVQl9BUElfVVJMIiwibWV0aG9kIiwiaGVhZGVycyIsIklNQUdFSFVCX0FQSV9LRVkiLCJib2R5Iiwib2siLCJFcnJvciIsInJlc3VsdCIsImpzb24iLCJzdGF0dXNfY29kZSIsInN0YXR1c190eHQiLCJpbWFnZSIsInVybCIsImRvd25sb2FkQW5kVXBsb2FkSW1hZ2UiLCJibG9iIiwiUE9TVCIsInJlcXVlc3QiLCJyZXF1aXJlZEVudlZhcnMiLCJlbnZWYXIiLCJlcnJvclR5cGUiLCJzdGF0dXMiLCJpbWFnZTEiLCJnZXQiLCJpbWFnZTIiLCJtYXhTaXplIiwic3RhcnRzV2l0aCIsImltYWdlMVVybCIsImltYWdlMlVybCIsIlByb21pc2UiLCJhbGwiLCJyZXF1ZXN0Qm9keSIsIndvcmtmbG93X2lkIiwiV09SS0ZMT1dfSUQiLCJ0cmltIiwicGFyYW1ldGVycyIsImZhY2VfaW1hZ2UiLCJiYXNlX2ltYWdlIiwiSlNPTiIsInN0cmluZ2lmeSIsIkNPWkVfQVBJX1VSTCIsIkFVVEhPUklaQVRJT04iLCJPYmplY3QiLCJmcm9tRW50cmllcyIsImVudHJpZXMiLCJyZXNwb25zZVRleHQiLCJ0ZXh0IiwicGFyc2UiLCJlIiwiY29kZSIsIm1zZyIsIm91dHB1dERhdGEiLCJkYXRhIiwib3V0cHV0IiwiZmluYWxJbWFnZVVybCIsInJlc3VsdFVybCIsIm9yaWdpbmFsVXJsIiwicmF3UmVzcG9uc2UiLCJ1cGxvYWRFcnJvciIsIm1lc3NhZ2UiLCJkZXRhaWxzIiwic3RhY2siLCJ1bmRlZmluZWQiLCJ0aW1lc3RhbXAiLCJEYXRlIiwidG9JU09TdHJpbmciXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/merge/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fmerge%2Froute&page=%2Fapi%2Fmerge%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fmerge%2Froute.ts&appDir=D%3A%5CCursor%5Cface2exchange%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CCursor%5Cface2exchange&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();